#!/bin/bash

# Lambda = sqrt(Beta / Alpha)
# Beta = 5
# Alpha = Beta / (Lambda ^ 2)

LAMBDAS=( 3 6 9 12 15 )
CYTOKINES=( 0 1 2 3 )
THRESHOLDS=(0.01 0.05 0.1 0.5 1.0 2.0 3.0)
WINDOWS=( 3 5 )
ITERATIONS=30

cd "$( cd "$(dirname "$0")" >/dev/null 2>&1 ; pwd -P )"
cd ..
for window in ${WINDOWS[@]}; do
  for lambda in ${LAMBDAS[@]}; do
    for cytokines in ${CYTOKINES[@]}; do
      for threshold in ${THRESHOLDS[@]}; do
        for iteration in $(seq $ITERATIONS); do
          echo "PARAMS: w = $window, a = $alpha, y = $cytokines, t = $threshold, # = $iteration"
          ./run -n -w $window -a $(bc <<< "scale=2; sqrt($lambda)") -y $cytokines -t $threshold
          sleep 2
        done
      done
    done
  done
done