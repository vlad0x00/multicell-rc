#!/usr/bin/env python3

import seaborn as sns
import matplotlib.pyplot as plt
import sys
import numpy as np

data = { 'y' : [], 't' : [], 'accuracy': [] }
with open(sys.argv[1], 'r') as f:
  
  for line in f:

    if line.startswith('PARAMS:'):
      y = int(line.split()[3].split(',')[0])
      t = float(line.split()[6].split(',')[0])

    if line.startswith('Testing accuracy:'):
      data['y'].append('Y = ' + str(y))
      data['t'].append(t)
      data['accuracy'].append(float(line.split()[2]))

ax = sns.lineplot(x='t', y='accuracy', hue='y', data=data)
plt.xlabel('T', fontsize=14)
plt.ylabel('Accuracy', rotation=0, fontsize=14, labelpad=37)
plt.tight_layout()
plt.savefig('fig.png')