#!/usr/bin/env python3

import seaborn as sns
import matplotlib.pyplot as plt
import sys
import numpy as np

data = { 'g' : [], 'y' : [], 'accuracy': [] }
with open(sys.argv[1], 'r') as f:
  
  for line in f:

    if line.startswith('G ='):
      g = int(line.split()[2].split(',')[0])
      y = int(line.split()[8].split(',')[0])

    if line.startswith('Testing accuracy:'):
      data['g'].append(g)
      data['y'].append('Y = ' + str(y))
      data['accuracy'].append(float(line.split()[2]))

ax = sns.lineplot(x='g', y='accuracy', hue='y', data=data)
plt.xlabel('G', fontsize=14)
plt.ylabel('Accuracy', rotation=0, fontsize=14, labelpad=37)
plt.xticks([ 10, 20, 30, 40, 50, 60, 70, 80, 90, 100 ])
plt.tight_layout()
plt.savefig('fig.png')